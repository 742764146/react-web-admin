import{r as me}from"./raf.05f89870.js";import{d as G}from"./dom-css.66f3ae13.js";import{r as J}from"./react.beee60db.js";import{p as pe}from"./prop-types.fd8e04ee.js";var Te={},K={},Q={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=u;function u(s){return typeof s=="string"}})(Q);var Z={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=V;var u=G.exports,s=d(u);function d(v){return v&&v.__esModule?v:{default:v}}var m=!1;function V(){if(m!==!1)return m;if(typeof document!="undefined"){var v=document.createElement("div");(0,s.default)(v,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(v),m=v.offsetWidth-v.clientWidth,document.body.removeChild(v)}else m=0;return m||0}})(Z);var ee={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=u;function u(){return!1}})(ee);var te={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=u;function u(s){var d=s.clientWidth,m=getComputedStyle(s),V=m.paddingLeft,v=m.paddingRight;return d-parseFloat(V)-parseFloat(v)}})(te);var re={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=u;function u(s){var d=s.clientHeight,m=getComputedStyle(s),V=m.paddingTop,v=m.paddingBottom;return d-parseFloat(V)-parseFloat(v)}})(re);var T={};Object.defineProperty(T,"__esModule",{value:!0});T.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"};T.containerStyleAutoHeight={height:"auto"};T.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"};T.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0};T.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0};T.trackHorizontalStyleDefault={position:"absolute",height:6};T.trackVerticalStyleDefault={position:"absolute",width:6};T.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"};T.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"};T.disableSelectStyle={userSelect:"none"};T.disableSelectStyleReset={userSelect:""};var E={};Object.defineProperty(E,"__esModule",{value:!0});var L=Object.assign||function(a){for(var u=1;u<arguments.length;u++){var s=arguments[u];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(a[d]=s[d])}return a};E.renderViewDefault=He;E.renderTrackHorizontalDefault=ye;E.renderTrackVerticalDefault=ke;E.renderThumbHorizontalDefault=we;E.renderThumbVerticalDefault=De;var Se=J.exports,P=be(Se);function be(a){return a&&a.__esModule?a:{default:a}}function B(a,u){var s={};for(var d in a)u.indexOf(d)>=0||!Object.prototype.hasOwnProperty.call(a,d)||(s[d]=a[d]);return s}function He(a){return P.default.createElement("div",a)}function ye(a){var u=a.style,s=B(a,["style"]),d=L({},u,{right:2,bottom:2,left:2,borderRadius:3});return P.default.createElement("div",L({style:d},s))}function ke(a){var u=a.style,s=B(a,["style"]),d=L({},u,{right:2,bottom:2,top:2,borderRadius:3});return P.default.createElement("div",L({style:d},s))}function we(a){var u=a.style,s=B(a,["style"]),d=L({},u,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return P.default.createElement("div",L({style:d},s))}function De(a){var u=a.style,s=B(a,["style"]),d=L({},u,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return P.default.createElement("div",L({style:d},s))}(function(a){Object.defineProperty(a,"__esModule",{value:!0});var u=Object.assign||function(f){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(f[t]=i[t])}return f},s=function(){function f(o,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,t){return i&&f(o.prototype,i),t&&f(o,t),o}}(),d=me.exports,m=w(d),V=G.exports,v=w(V),W=J.exports,ie=pe.exports,h=w(ie),ne=Q,q=w(ne),ae=Z,C=w(ae),le=ee,oe=w(le),ue=te,U=w(ue),se=re,x=w(se),S=T,R=E;function w(f){return f&&f.__esModule?f:{default:f}}function ce(f,o){var i={};for(var t in f)o.indexOf(t)>=0||!Object.prototype.hasOwnProperty.call(f,t)||(i[t]=f[t]);return i}function de(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function he(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function fe(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var I=function(f){fe(o,f);function o(i){var t;de(this,o);for(var r=arguments.length,n=Array(r>1?r-1:0),l=1;l<r;l++)n[l-1]=arguments[l];var e=he(this,(t=o.__proto__||Object.getPrototypeOf(o)).call.apply(t,[this,i].concat(n)));return e.getScrollLeft=e.getScrollLeft.bind(e),e.getScrollTop=e.getScrollTop.bind(e),e.getScrollWidth=e.getScrollWidth.bind(e),e.getScrollHeight=e.getScrollHeight.bind(e),e.getClientWidth=e.getClientWidth.bind(e),e.getClientHeight=e.getClientHeight.bind(e),e.getValues=e.getValues.bind(e),e.getThumbHorizontalWidth=e.getThumbHorizontalWidth.bind(e),e.getThumbVerticalHeight=e.getThumbVerticalHeight.bind(e),e.getScrollLeftForOffset=e.getScrollLeftForOffset.bind(e),e.getScrollTopForOffset=e.getScrollTopForOffset.bind(e),e.scrollLeft=e.scrollLeft.bind(e),e.scrollTop=e.scrollTop.bind(e),e.scrollToLeft=e.scrollToLeft.bind(e),e.scrollToTop=e.scrollToTop.bind(e),e.scrollToRight=e.scrollToRight.bind(e),e.scrollToBottom=e.scrollToBottom.bind(e),e.handleTrackMouseEnter=e.handleTrackMouseEnter.bind(e),e.handleTrackMouseLeave=e.handleTrackMouseLeave.bind(e),e.handleHorizontalTrackMouseDown=e.handleHorizontalTrackMouseDown.bind(e),e.handleVerticalTrackMouseDown=e.handleVerticalTrackMouseDown.bind(e),e.handleHorizontalThumbMouseDown=e.handleHorizontalThumbMouseDown.bind(e),e.handleVerticalThumbMouseDown=e.handleVerticalThumbMouseDown.bind(e),e.handleWindowResize=e.handleWindowResize.bind(e),e.handleScroll=e.handleScroll.bind(e),e.handleDrag=e.handleDrag.bind(e),e.handleDragEnd=e.handleDragEnd.bind(e),e.state={didMountUniversal:!1},e}return s(o,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){var t=this.props.universal;!t||this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,d.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var t=this.view||{},r=t.scrollLeft,n=r===void 0?0:r,l=t.scrollTop,e=l===void 0?0:l,c=t.scrollWidth,g=c===void 0?0:c,p=t.scrollHeight,D=p===void 0?0:p,y=t.clientWidth,M=y===void 0?0:y,b=t.clientHeight,k=b===void 0?0:b;return{left:n/(g-M)||0,top:e/(D-k)||0,scrollLeft:n,scrollTop:e,scrollWidth:g,scrollHeight:D,clientWidth:M,clientHeight:k}}},{key:"getThumbHorizontalWidth",value:function(){var t=this.props,r=t.thumbSize,n=t.thumbMinSize,l=this.view,e=l.scrollWidth,c=l.clientWidth,g=(0,U.default)(this.trackHorizontal),p=Math.ceil(c/e*g);return g===p?0:r||Math.max(p,n)}},{key:"getThumbVerticalHeight",value:function(){var t=this.props,r=t.thumbSize,n=t.thumbMinSize,l=this.view,e=l.scrollHeight,c=l.clientHeight,g=(0,x.default)(this.trackVertical),p=Math.ceil(c/e*g);return g===p?0:r||Math.max(p,n)}},{key:"getScrollLeftForOffset",value:function(t){var r=this.view,n=r.scrollWidth,l=r.clientWidth,e=(0,U.default)(this.trackHorizontal),c=this.getThumbHorizontalWidth();return t/(e-c)*(n-l)}},{key:"getScrollTopForOffset",value:function(t){var r=this.view,n=r.scrollHeight,l=r.clientHeight,e=(0,x.default)(this.trackVertical),c=this.getThumbVerticalHeight();return t/(e-c)*(n-l)}},{key:"scrollLeft",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;!this.view||(this.view.scrollLeft=t)}},{key:"scrollTop",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;!this.view||(this.view.scrollTop=t)}},{key:"scrollToLeft",value:function(){!this.view||(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){!this.view||(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){!this.view||(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){!this.view||(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if(!(typeof document=="undefined"||!this.view)){var t=this.view,r=this.trackHorizontal,n=this.trackVertical,l=this.thumbHorizontal,e=this.thumbVertical;t.addEventListener("scroll",this.handleScroll),(0,C.default)()&&(r.addEventListener("mouseenter",this.handleTrackMouseEnter),r.addEventListener("mouseleave",this.handleTrackMouseLeave),r.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown),l.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),e.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if(!(typeof document=="undefined"||!this.view)){var t=this.view,r=this.trackHorizontal,n=this.trackVertical,l=this.thumbHorizontal,e=this.thumbVertical;t.removeEventListener("scroll",this.handleScroll),(0,C.default)()&&(r.removeEventListener("mouseenter",this.handleTrackMouseEnter),r.removeEventListener("mouseleave",this.handleTrackMouseLeave),r.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),l.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),e.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(t){var r=this,n=this.props,l=n.onScroll,e=n.onScrollFrame;l&&l(t),this.update(function(c){var g=c.scrollLeft,p=c.scrollTop;r.viewScrollLeft=g,r.viewScrollTop=p,e&&e(c)}),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var t=this.props.onScrollStart;t&&t(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){var t=this.props.autoHide;!t||this.showTracks()}},{key:"handleScrollStop",value:function(){var t=this.props.onScrollStop;t&&t(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){var t=this.props.autoHide;!t||this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(t){t.preventDefault();var r=t.target,n=t.clientX,l=r.getBoundingClientRect(),e=l.left,c=this.getThumbHorizontalWidth(),g=Math.abs(e-n)-c/2;this.view.scrollLeft=this.getScrollLeftForOffset(g)}},{key:"handleVerticalTrackMouseDown",value:function(t){t.preventDefault();var r=t.target,n=t.clientY,l=r.getBoundingClientRect(),e=l.top,c=this.getThumbVerticalHeight(),g=Math.abs(e-n)-c/2;this.view.scrollTop=this.getScrollTopForOffset(g)}},{key:"handleHorizontalThumbMouseDown",value:function(t){t.preventDefault(),this.handleDragStart(t);var r=t.target,n=t.clientX,l=r.offsetWidth,e=r.getBoundingClientRect(),c=e.left;this.prevPageX=l-(n-c)}},{key:"handleVerticalThumbMouseDown",value:function(t){t.preventDefault(),this.handleDragStart(t);var r=t.target,n=t.clientY,l=r.offsetHeight,e=r.getBoundingClientRect(),c=e.top;this.prevPageY=l-(n-c)}},{key:"setupDragging",value:function(){(0,v.default)(document.body,S.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=oe.default}},{key:"teardownDragging",value:function(){(0,v.default)(document.body,S.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(t){this.dragging=!0,t.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(t){if(this.prevPageX){var r=t.clientX,n=this.trackHorizontal.getBoundingClientRect(),l=n.left,e=this.getThumbHorizontalWidth(),c=e-this.prevPageX,g=-l+r-c;this.view.scrollLeft=this.getScrollLeftForOffset(g)}if(this.prevPageY){var p=t.clientY,D=this.trackVertical.getBoundingClientRect(),y=D.top,M=this.getThumbVerticalHeight(),b=M-this.prevPageY,k=-y+p-b;this.view.scrollTop=this.getScrollTopForOffset(k)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){var t=this.props.autoHide;!t||this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){var t=this.props.autoHide;!t||this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){var t=this.props.autoHide;!t||this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,v.default)(this.trackHorizontal,{opacity:1}),(0,v.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var t=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var r=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout(function(){(0,v.default)(t.trackHorizontal,{opacity:0}),(0,v.default)(t.trackVertical,{opacity:0})},r)}}},{key:"detectScrolling",value:function(){var t=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval(function(){t.lastViewScrollLeft===t.viewScrollLeft&&t.lastViewScrollTop===t.viewScrollTop&&(clearInterval(t.detectScrollingInterval),t.scrolling=!1,t.handleScrollStop()),t.lastViewScrollLeft=t.viewScrollLeft,t.lastViewScrollTop=t.viewScrollTop},100))}},{key:"raf",value:function(t){var r=this;this.requestFrame&&m.default.cancel(this.requestFrame),this.requestFrame=(0,m.default)(function(){r.requestFrame=void 0,t()})}},{key:"update",value:function(t){var r=this;this.raf(function(){return r._update(t)})}},{key:"_update",value:function(t){var r=this.props,n=r.onUpdate,l=r.hideTracksWhenNotNeeded,e=this.getValues();if((0,C.default)()){var c=e.scrollLeft,g=e.clientWidth,p=e.scrollWidth,D=(0,U.default)(this.trackHorizontal),y=this.getThumbHorizontalWidth(),M=c/(p-g)*(D-y),b={width:y,transform:"translateX("+M+"px)"},k=e.scrollTop,_=e.clientHeight,z=e.scrollHeight,N=(0,x.default)(this.trackVertical),A=this.getThumbVerticalHeight(),X=k/(z-_)*(N-A),O={height:A,transform:"translateY("+X+"px)"};if(l){var Y={visibility:p>g?"visible":"hidden"},$={visibility:z>_?"visible":"hidden"};(0,v.default)(this.trackHorizontal,Y),(0,v.default)(this.trackVertical,$)}(0,v.default)(this.thumbHorizontal,b),(0,v.default)(this.thumbVertical,O)}n&&n(e),typeof t=="function"&&t(e)}},{key:"render",value:function(){var t=this,r=(0,C.default)(),n=this.props;n.onScroll,n.onScrollFrame,n.onScrollStart,n.onScrollStop,n.onUpdate;var l=n.renderView,e=n.renderTrackHorizontal,c=n.renderTrackVertical,g=n.renderThumbHorizontal,p=n.renderThumbVertical,D=n.tagName;n.hideTracksWhenNotNeeded;var y=n.autoHide;n.autoHideTimeout;var M=n.autoHideDuration;n.thumbSize,n.thumbMinSize;var b=n.universal,k=n.autoHeight,_=n.autoHeightMin,z=n.autoHeightMax,N=n.style,A=n.children,X=ce(n,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),O=this.state.didMountUniversal,Y=u({},S.containerStyleDefault,k&&u({},S.containerStyleAutoHeight,{minHeight:_,maxHeight:z}),N),$=u({},S.viewStyleDefault,{marginRight:r?-r:0,marginBottom:r?-r:0},k&&u({},S.viewStyleAutoHeight,{minHeight:(0,q.default)(_)?"calc("+_+" + "+r+"px)":_+r,maxHeight:(0,q.default)(z)?"calc("+z+" + "+r+"px)":z+r}),k&&b&&!O&&{minHeight:_,maxHeight:z},b&&!O&&S.viewStyleUniversalInitial),j={transition:"opacity "+M+"ms",opacity:0},ve=u({},S.trackHorizontalStyleDefault,y&&j,(!r||b&&!O)&&{display:"none"}),ge=u({},S.trackVerticalStyleDefault,y&&j,(!r||b&&!O)&&{display:"none"});return(0,W.createElement)(D,u({},X,{style:Y,ref:function(H){t.container=H}}),[(0,W.cloneElement)(l({style:$}),{key:"view",ref:function(H){t.view=H}},A),(0,W.cloneElement)(e({style:ve}),{key:"trackHorizontal",ref:function(H){t.trackHorizontal=H}},(0,W.cloneElement)(g({style:S.thumbHorizontalStyleDefault}),{ref:function(H){t.thumbHorizontal=H}})),(0,W.cloneElement)(c({style:ge}),{key:"trackVertical",ref:function(H){t.trackVertical=H}},(0,W.cloneElement)(p({style:S.thumbVerticalStyleDefault}),{ref:function(H){t.thumbVertical=H}}))])}}]),o}(W.Component);a.default=I,I.propTypes={onScroll:h.default.func,onScrollFrame:h.default.func,onScrollStart:h.default.func,onScrollStop:h.default.func,onUpdate:h.default.func,renderView:h.default.func,renderTrackHorizontal:h.default.func,renderTrackVertical:h.default.func,renderThumbHorizontal:h.default.func,renderThumbVertical:h.default.func,tagName:h.default.string,thumbSize:h.default.number,thumbMinSize:h.default.number,hideTracksWhenNotNeeded:h.default.bool,autoHide:h.default.bool,autoHideTimeout:h.default.number,autoHideDuration:h.default.number,autoHeight:h.default.bool,autoHeightMin:h.default.oneOfType([h.default.number,h.default.string]),autoHeightMax:h.default.oneOfType([h.default.number,h.default.string]),universal:h.default.bool,style:h.default.object,children:h.default.node},I.defaultProps={renderView:R.renderViewDefault,renderTrackHorizontal:R.renderTrackHorizontalDefault,renderTrackVertical:R.renderTrackVerticalDefault,renderThumbHorizontal:R.renderThumbHorizontalDefault,renderThumbVertical:R.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}})(K);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Scrollbars=void 0;var u=K,s=d(u);function d(m){return m&&m.__esModule?m:{default:m}}a.default=s.default,a.Scrollbars=s.default})(Te);export{Te as l};
